#!/bin/bash

echo "üìß Fixing Email Capture Issues"
echo "==============================="
echo ""
echo "Common problem: STT struggles with emails like:"
echo "‚Ä¢ 'john dot smith at gmail dot com'"
echo "‚Ä¢ 'j.smith@company.com'"
echo "‚Ä¢ Mixing letters and spelling"
echo ""
echo "üõ†Ô∏è SOLUTION OPTIONS:"
echo ""
echo "1Ô∏è‚É£ SWITCH BACK TO OPENAI for Transcriber"
echo "   ‚Ä¢ OpenAI GPT-4o often handles emails better"
echo "   ‚Ä¢ More expensive but more accurate"
echo ""
echo "2Ô∏è‚É£ UPDATE JEFF'S PROMPT for better email handling:"
echo "   Add these lines to System Prompt:"
echo ""
echo "   WHEN COLLECTING EMAIL:"
echo "   - Say: 'I'll need your email. Please spell it out slowly,'"
echo "   - 'letter by letter, including the domain.'"
echo "   - After they spell it: 'Let me read that back...'"
echo "   - 'J-O-H-N at G-M-A-I-L dot com. Is that correct?'"
echo "   - If they say yes, convert to: john@gmail.com"
echo "   - If unclear, ask: 'Could you spell that again slowly?'"
echo ""
echo "3Ô∏è‚É£ USE DTMF (Phone Keypad) for email collection:"
echo "   ‚Ä¢ Enable 'Dial Keypad' in Vapi"
echo "   ‚Ä¢ Have users type email using phone keys"
echo "   ‚Ä¢ More reliable but less natural"
echo ""
echo "4Ô∏è‚É£ BEST APPROACH: Phonetic Alphabet"
echo "   Update prompt to say:"
echo "   'Please spell your email using words for letters,'"
echo "   'like A as in Apple, B as in Boy...'"
echo ""
echo "5Ô∏è‚É£ ALTERNATIVE: Skip email on phone"
echo "   ‚Ä¢ Collect basic info on call"
echo "   ‚Ä¢ Send SMS/web link for email entry"
echo ""
echo "üí° RECOMMENDED: Try OpenAI transcriber first!"
echo "   It's specifically trained for these scenarios." 